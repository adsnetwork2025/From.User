<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Freelancer 404</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-blue-100 to-indigo-200 min-h-screen p-4 font-sans">

  <div class="max-w-md mx-auto">
    <h1 class="text-3xl font-bold text-center text-indigo-700 mb-6">Freelancer 404</h1>

    <!-- Balance Display -->
    <div class="flex justify-center mb-6">
      <div class="w-40 h-40 rounded-full bg-white shadow-xl flex flex-col items-center justify-center text-2xl font-bold text-indigo-600 relative">
        ‡ß≥<span id="balance">0</span>
        <span id="verifiedTick" class="absolute top-2 right-2 text-blue-600 hidden">‚úî</span>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="flex justify-center gap-4 mb-8">
      <button onclick="showDepositForm()" class="bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-xl shadow">Verify Account</button>
      <button onclick="showWithdrawForm()" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-xl shadow">Withdraw</button>
    </div>

    <!-- Deposit Form -->
    <div id="depositForm" class="bg-white rounded-xl shadow-lg p-4 mb-6 hidden">
      <h3 class="text-lg font-semibold mb-2 text-indigo-800">‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶æ‡¶á ‡¶ï‡¶∞‡¶§‡ßá ‡ßß‡ß¶‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶∏‡ßá‡¶®‡ßç‡¶° ‡¶Æ‡¶æ‡¶®‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®</h3>
      <div class="mb-3">
        <p>üì± ‡¶¨‡¶ø‡¶ï‡¶æ‡¶∂: <span class="font-mono">01XXXXXXXXX</span> 
          <button onclick="copyText('01XXXXXXXXX')" class="text-sm text-indigo-500 hover:underline ml-2">Copy</button>
        </p>
        <p>üì± ‡¶®‡¶ó‡¶¶: <span class="font-mono">01YYYYYYYYY</span> 
          <button onclick="copyText('01YYYYYYYYY')" class="text-sm text-indigo-500 hover:underline ml-2">Copy</button>
        </p>
      </div>
      <label class="block mb-1 font-medium">‡¶è‡¶á ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü ‡¶ï‡ßã‡¶°‡¶ü‡¶ø ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®:</label>
      <input id="submitCode" placeholder="199234" class="w-full px-3 py-2 mb-3 border rounded" />
      <label class="block mb-1 font-medium">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ü‡ßç‡¶∞‡¶æ‡¶®‡¶ú‡ßá‡¶ï‡¶∂‡¶® ‡¶Ü‡¶á‡¶°‡¶ø ‡¶¶‡¶ø‡¶®:</label>
      <input id="txn" placeholder="Txn ID" class="w-full px-3 py-2 mb-4 border rounded" />
      <button onclick="submitDeposit()" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white py-2 rounded">Verify Now</button>
    </div>

    <!-- Withdraw Form -->
    <div id="withdrawForm" class="bg-white rounded-xl shadow-lg p-4 hidden">
      <h3 class="text-lg font-semibold mb-3 text-green-800">Withdraw Request</h3>

      <label class="block mb-1 font-medium">‡¶è‡¶á ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü ‡¶ï‡ßã‡¶°‡¶ü‡¶ø ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®:</label>
      <input id="withdrawCode" placeholder="199234" class="w-full px-3 py-2 mb-3 border rounded" />

      <label class="block mb-1 font-medium">Withdraw Method:</label>
      <select id="withdrawMethod" class="w-full px-3 py-2 mb-3 border rounded">
        <option value="bkash">‡¶¨‡¶ø‡¶ï‡¶æ‡¶∂</option>
        <option value="nagad">‡¶®‡¶ó‡¶¶</option>
      </select>

      <label class="block mb-1 font-medium">Account Number:</label>
      <input id="withdrawNumber" class="w-full px-3 py-2 mb-3 border rounded" />

      <label class="block mb-1 font-medium">Amount (Min 100):</label>
      <input id="withdrawAmount" type="number" class="w-full px-3 py-2 mb-4 border rounded" />

      <button onclick="submitWithdraw()" class="w-full bg-green-600 hover:bg-green-700 text-white py-2 rounded">Submit Withdraw</button>
    </div>
  </div>

  <!-- Scripts -->
  <script>
    const fixedSubmitCode = "199234";

    function init() {
      updateBalanceIfVerified();
      setInterval(updateBalanceIfVerified, 10000);
    }

    function copyText(text) {
      navigator.clipboard.writeText(text);
      alert("Copied: " + text);
    }

    function showDepositForm() {
      document.getElementById("depositForm").style.display = "block";
      document.getElementById("withdrawForm").style.display = "none";
    }

    function showWithdrawForm() {
      document.getElementById("withdrawForm").style.display = "block";
      document.getElementById("depositForm").style.display = "none";
    }

    function submitDeposit() {
      const code = document.getElementById("submitCode").value;
      const txn = document.getElementById("txn").value;
      if (code !== fixedSubmitCode || !txn) return alert("Please enter valid code and transaction ID.");

      const user = {
        code: code,
        txn: txn,
        verified: false,
        balance: 0,
        lastCredited: 0
      };
      localStorage.setItem("user_" + code, JSON.stringify(user));
      alert("Deposit submitted! Admin will verify.");
    }

    function submitWithdraw() {
      const code = document.getElementById("withdrawCode").value;
      if (code !== fixedSubmitCode) return alert("Invalid code.");

      const method = document.getElementById("withdrawMethod").value;
      const number = document.getElementById("withdrawNumber").value;
      const amount = parseInt(document.getElementById("withdrawAmount").value);

      if (!number || isNaN(amount) || amount < 100) return alert("Invalid withdraw details or minimum 100 TK.");

      const userData = localStorage.getItem("user_" + code);
      if (!userData) return alert("User not found.");

      const user = JSON.parse(userData);
      if (user.balance < amount) return alert("Insufficient balance.");

      const withdrawRequest = { method, number, amount, time: Date.now(), status: "pending" };
      localStorage.setItem("withdraw_" + code, JSON.stringify(withdrawRequest));
      alert("Withdraw request submitted.");
    }

    function updateBalanceIfVerified() {
      const userData = localStorage.getItem("user_" + fixedSubmitCode);
      if (!userData) return;

      let user = JSON.parse(userData);
      if (user.verified) {
        let now = Date.now();
        let hoursPassed = (now - user.lastCredited) / (1000 * 60 * 60);
        if (hoursPassed >= 12) {
          user.balance += 6;
          user.lastCredited = now;
          localStorage.setItem("user_" + fixedSubmitCode, JSON.stringify(user));
        }
        document.getElementById("balance").innerText = user.balance;
        document.getElementById("verifiedTick").style.display = "inline-block";
      }
    }

    window.onload = init;
  </script>
</body>
</html>
